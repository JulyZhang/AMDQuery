<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>AMDQuery</title>
    <meta charset="utf-8" />
    <link href="../app/css/reset.css" rel="stylesheet" type="text/css" />
    <link href="../css/document.css" rel="stylesheet" type="text/css" />
    <link href="../../amdquery/lib/css/prettify/drupalorg.css" rel="stylesheet" type="text/css" />
    <script src="../../amdquery/lib/js/prettify.js" type="text/javascript"></script>
    <script src="../../amdquery/amdquery.js" type="text/javascript" amdquery="debug:false" amd="detectCR=1" module="transitionToAnimation:0" ui="initWidget:1;isTransform3d:0"></script>
    <script type="text/javascript">

    </script>
</head>
<body style="width: 100%; height: 100%;" onload="prettyPrint()">
  <div amdquery-widget="ui.flex" ui-flex="flex:1;flexDriection:row">
    <div style="width:20px;" amdquery-widget="ui.flex" ui-flex="fillParentWidth:false" ></div>
    <div class="document" id="swapview" style="" amdquery-widget="ui.swapview;ui.flex" ui-flex="flex:1" ui-swapview="orientation:H">
      <ol>
        <li id="first">
          <div style="width: 100%; height: 100%;" amdquery-widget="ui.scrollableview" ui-scrollableview="orientation:V;enableKeyboard:true">
            <h1 name="AMDQuery" >AMDQuery 1.0.0</h1>
            <ul class="guide">
              <li><a href="#Overview" >Overview</a>
              </li>
              <li><a href="#AMD" >AMD</a>
              </li>
              <li><a href="#Reference_AMDQuery" >Reference AMDQuery</a>
              </li>
              <li><a href="#Require_Define" >Require & Define</a>
              </li>
              <li><a href="#config" >config</a>
              </li>
              <li><a href="#BaseGuide" >Overview: base of module</a>
              </li>
              <li><a href="#MainGuide" >Overview: main of module</a>
              </li>
            </ul>
            <h2 name="Overview" id="Overview">Overview</h2>
            <p>This guide provides basic instructions on understanding AMDQuery architecture and using AMDQuery.</p>
            <p>check aQuery version: console.log( aQuery.version )</p>
            <h3 name="AMD" id="AMD" >AMD</h3>
            <p>AMDQuery follow the <a target="_blank" href="http://en.wikipedia.org/wiki/Asynchronous_module_definition">AMD</a> standard.
            AMDQuery manage module and use module depend on AMD, there are based moudle of AMD in amdquery.js.
            </p>
            <p>watch module in chrome Console</p>
            <img src="../css/image/AQueryModule1.png" />
            <p>watch module in chrome when debug</p>
            <img src="../css/image/AQueryModule2.png" />
            <h3 name="Reference_AMDQuery" id="Reference_AMDQuery">Reference AMDQuery</h3>
            <p>Include the script tag below in your head.</p>
            <p>by default, define 'aQuery' in global. 'amdquery="define:$"' is one of the config, define '$' in global.
              This example: you can use "$" or "aQuery".
            </p>
            <pre class="prettyprint">
              &ltscript src="../../amdquery/amdquery.js" type="text/javascript" amdquery="define:$;" &gt&lt/script&gt
            </pre>

            <div>
              <blod>Best Practices</blod>
            </div>
            <div class="admonition-note">
              <blod>Define your global name and use it.</blod>
            </div>

            <h3 name="Require_Define" id="Require_Define">Require & Define</h3>
            <ul class="guide">
              <li>Global has "require" and "define" function.
                <ul class="guide">
                  <li>
                    <p>
                      The difference of $.require and require.
                      require follow AMD standard.
                      $.require follow AMD and be invoke after AMDQuery-ready.
                    </p>
                  </li>
                  <li>
                    <p>
                      The difference of $.define and define.
                      define follow AMD standard.
                      $.define follow AMD and define AMDQuery at first arguments in callback.
                    </p>
                  </li>
                </ul>
              </li>
            </ul>

            <pre class="prettyprint">
              &ltscript type="text/javascript" &gt
                $.define( "myobject", [ "main/extend" ], function( $, utilExtend ) {
                  return {
                    dosth: function( ) {
                      alert( $.toString() );
                    };
                  };
                } );
                $.require( [ "main/query", "myobject" ], function( query, myobject ) {
                    $( "#someElement" ).find( "ohterElement" );
                    myobject.dosth( );
                } );
              &lt/script&gt
            </pre>

            <p>Equivalent</p>
            <pre class="prettyprint">
              &ltscript type="text/javascript" &gt
                define( "myobject", [ "main/extend" ], function( utilExtend ) {
                  return {
                    dosth: function( ) {
                      alert( aQuery.toString() );
                    };
                  };
                } );
                require( [ "main/query", "myobject" ], function( query, myobject ) {
                    aQuery.ready( function( ){
                      $( "#someElement" ).find( "ohterElement" );
                      myobject.dosth( );
                    } );
                } );
              &lt/script&gt
            </pre>
            <div>
              <blod>Best Practices</blod>
            </div>
            <div class="admonition-note">
              <blod>Define your global name and use it.</blod>
            </div>

            <h3 name="config" id="config">config</h3>
            <ul class="guide">
              <li>two ways to set config
                <ul class="guide">
                  <li>
                    <p>
                      set config in the script tag
                    </p>
                    <pre class="prettyprint">
                      &ltscript src="amdquery.js" type="text/javascript" amdquery="define:$;package:json/package;" amd="detectCR:1;" ui="initWidget:false" module="compatibleEvent:1;" app="src:document/app/app;"&gt&lt/script&gt
                    </pre>
                  </li>
                  <li>
                    <p>
                      define object in global and named "aQueryConfig" before load script tag of "amdquery.js"
                    </p>
                    <pre class="prettyprint">
                      &ltscript type="text/javascript" &gt
                        var aQueryConfig = {
                          amdquery : {
                                        define : "$",
                                        package: "json/package"
                                     },
                          amd : { detectCR : true }
                        }
                      &lt/script&gt
                      &ltscript src="amdquery.js" type="text/javascript" &gt&lt/script&gt
                    </pre>
                    <div class="admonition-note">
                      <blod style="color:red">If you define "aQueryConfig" before load script tag, the config which be defined in tag does not work!</blod>
                    </div>
                  </li>
                </ul>
              </li>
              <li>use config
                  <pre class="prettyprint">
                    $.require( [ "base/config" ], function( config ) {

                    } );
                    $.define( "my/moudle", [ "base/config" ], function( $, config ) {
                      var mymoudle = {};
                      return mymoudle;
                    } );
                  </pre>
              </li>
            </ul>

            <h3 name="BaseGuide" id="BaseGuide" >Overview: base of module</h3>
            <ul class="guide">
              <li>
                <p>be defined in "amdquery.js"<p>
                <ul class="guide">
                  <li><a href="" >"base/config":</a><p>config of AMDQuery</p>
                  </li>
                  <li><a href="" >"base/queue":</a><p>definition queue</p>
                  </li>
                  <li><a href="" >"base/ClassModule":</a><p>Module Management</p>
                  </li>
                  <li><a href="" >"base/Promise":</a><p>Promise A</p>
                  </li>
                  <li><a href="" >"base/ready":</a><p>controller AMDQuery load cycle</p>
                  </li>
                </ul>
              </li>
              <li>
                <p>be defined in "base" directory<p>
                <ul class="guide">
                  <li><a href="" >"base/extend":</a><p>provide function which allow to extend AMDQuery</p>
                  <li><a href="" >"base/array":</a><p>provide Array function</p>
                  </li>
                  <li><a href="" >"base/client":</a><p>detect client infomation</p>
                  <li><a href="" >"base/config":</a><p>config of AMDQuery</p>
                  </li>
                  <li><a href="" >"base/support":</a><p>check browser quirks and function</p>
                  </li>
                  <li><a href="" >"base/typed":</a><p>provide type checking</p>
                  </li>
                </ul>
              </li>
            </ul>
            <h3 name="MainGuide" id="MainGuide" >Overview: main of module</h3>
            <pre class="prettyprint">
              $.require( [
                  "main/data",
                  "main/CustomeEvent",
                  "main/event",
                  "main/attr",
                  "main/class",
                  "main/css",
                  "main/position",
                  "main/dom",
                  "main/query",
                  "main/object",
                  "main/communicate"
              ], function(
                  CustomeEvent,
                  data,
                  event,
                  attr,
                  cls,
                  css,
                  position,
                  dom,
                  query,
                  object,
                  communicate
              ) {
                  // require query to use
                  $( "#someElement" ).find( "ohterElement" );
                  query.find( "ohterElement", someElement );

                  // require Data to use
                  $( "#someElement" ).data( "myName", "Jarry" );
                  $.data( someElement, "myName", "Jarry" );

                  // require Event to use
                  $( "#someElement" ).click( function( ) {} );
                  event.on( someElement, "click", function( ) {} );

                  // require attr to use
                  $( "#someElement" ).attr( "id" );
                  attr.getAttr( someElement, "id" );

                  // require cls to use
                  $( "#someElement" ).addClass( "pretty" );
                  cls.addClass( someElement, "pretty" );

                  // require position to use
                  $( "#someElement" ).width( )
                  position.getWidth( someElement )

                  // require dom to use
                  $( "#someElement" ).clone( )
                  dom.clone( someElement )

                  // require css to use
                  $( "#someElement" ).css( "background-color", "red" )
                  css.css( someElement, "background-color", "red" )

                  // Unrelated elements
                  // require object to use
                  var MyObject = object.extend( "MyObject", {
                    init: function( ) {}
                  }, {
                    staticFn: function( ) {}
                  } );

                  // require object to use
                  var MyObject = object.extend( "MyObject", {
                    init: function( ) {}
                  }, {
                    staticFn: function( ) {}
                  } );

                  // require communicate to use
                  var MyObject = communicate.ajax( {
                    url: "http://www.data.com",
                    complete: function( ) {}
                  } );

                  // require CustomEvent to use
                  var myEvent = new CustomEvent( );
                  myEvent.on( "dosth", function( ) {} );
                  myEvent.trigger( "dosth", this, {
                    type: "dosth"
                  } );

              } );
            </pre>
            <a float="false" href="#AMDQuery" class="Top">Top</a>
          </div>
        </li>
        <li>
          <h1>API Documentation</h1>
          <h2>Dependent: []</h2>
        </li>
        <li>
          <h1>Best Practices</h1>
        </li>
      </ol>
      <ol style="width:100px;height:20px;" amdquery-widget="ui.swapindicator" ui-swapindicator="orientation:H">
        <li></li>
        <li></li>
        <li></li>
      </ol>
    </div>
    <div style="width:20px;" amdquery-widget="ui.flex" ui-flex="fillParentWidth:false" ></div>
  </div>
</body>
</html>
