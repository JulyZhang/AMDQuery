<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <title></title>
  <link href="../../../global/styles/reset.css" rel="stylesheet" type="text/css" />
  <script src="../../../amdquery/amdquery.js" type="text/javascript" amdquery="define:$;" amd="detectCR:1;"></script>

  <script type="text/javascript">
    $.require(["main/query", "main/data", "module/Test"], function( query, utilData, Test ) {

      var test = $( "#test" )[0];

      var testCustomEvent = new Test("TestCustomeEvent", function(preResult){
        // complete
      }).equal("Div test has not data.", true , function(preResult){
        return !utilData.hasData( test );
      }).execute("Set name 'Amanda' into Div test`s data.", function(preResult){
        utilData.set( test, "name", "Amanda" );
      }).equal("Div test has data.", true , function(preResult){
        return utilData.hasData( test );
      }).equal("Div test has name 'Amanda' in data.", "Amanda" , function(preResult){
        return utilData.get( test, "name" );
      }).execute("Set age '19' into div test`s data.", function(preResult){
        utilData.set( test, "age", 19 );
      }).equal("Get data cache from div test`s data.", { name: "Amanda", age: 19 }, function(preResult){
        return utilData.get( test );
      }).execute("Remove age from div test`s data.", function(preResult){
        utilData.removeData( test, "age" );
      }).equal("Get age from div test`s data, result is undefined.", undefined, function(preResult){
        return utilData.get( test, "age" );
      }).execute("Remove all from div test`s data.", function(preResult){
        utilData.removeData( test );
      }).equal("Div test has not data.", true, function(preResult){
        return !utilData.hasData( test );
      }).start();

    });
  </script>
</head>

<body style="overflow: auto">
  <div id="test"></div>
</body>

</html>
