<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <title></title>
  <link href="../../../global/styles/reset.css" rel="stylesheet" type="text/css" />
  <script src="../../../amdquery/amdquery.js" type="text/javascript" amdquery="define:$;package:main;" amd="detectCR:1;" module="compatibleEvent:1;testLogByHTML:1"></script>
  <script type="text/javascript">
    $.require([
      "base/Promise",
      "module/Test"
    ], function(Promise, Test) {

      var promise1 = new Promise;

      var testTest = new Test("TestTest", function(preResult){
        // complete
      }).describe("Test Test function", function(preResult, test, logger){
        var testTarget = {

        };
        test(testTarget, "testTarget").should.be.an("object");

        var myName = "Jarray";
        test(myName, "My name").should.be.a("string");

        var notThrowFunction = function(){
          var age = 28;
        };
        test(notThrowFunction, "'notThrowFunction'").should.not.Throw(notThrowFunction);

        var throwFunction = function(){
          age();
        };
        test(throwFunction, "'throwFunction'").should.Throw(notThrowFunction);

        var object = {
          name: "Jarry",
          age: 28
        };
        test(object, "object").should.equal({
          name: "Jarry",
          age: 28
        });
        test(object, "object").should.not.equal({
          name: "Jarry",
          age: 28,
          face: {
            eye: 2
          }
        });

        test(object, "object").should.exists();
        var global;
        test(global, "Value global").should.not.exists();

        var anArray = [1,2,3,4,5];
        test(anArray, "An array").should.have.length(5);

        var anObject = {
          name: "Jarry",
          anArray: anArray
        };
        test(anObject, "An anObject").should.have.property("anArray").with.should.have.length(5);

        return "Jarry";

      }).describe("Test previous result", function(preResult, test, logger){
        test(preResult, "Previous result").should.equal("Jarry");

        logger("Set timeout 1 seconds to call next describe");

        setTimeout( function() {
          promise1.resolve(1000);
        }, 1000 );

      }).describe("Test promise", function(preResult, test, logger){
        test(preResult, "Previous result").should.equal(1000);
      }, promise1).start();

    });
  </script>
</head>

<body style="overflow: auto">
</body>

</html>
